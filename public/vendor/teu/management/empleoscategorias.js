app.controller("empleosCategoriasController",["$scope","$rootScope","$http","FactoryEmpleos","toasty","IaCore",function(e,t,o,a,r,n){function c(){a.getCategories().then(function(t){e.categories=t.data})}c(),e.addCategory=function(){e.titleCategory.length>5?a.createCategory(e.titleCategory).then(function(t){"ok"==t.data?(r.success({title:"Creación exitosa!",msg:"Categoría "+e.titleCategory+" creada exitosamente"}),c()):r.error({title:"Error",msg:"Ocurrió un error al intentar agregar la categoría"})}):r.error({title:"Error",msg:"El nombre de la Categoría debe tener más de 5 caracteres"}),e.titleCategory=""},e.promptEnter=function(t){e.updateCategory(t)},e.updateCategory=function(t){var o=t.id,n=t.newName;n.length>5&&a.updateCategory(o,n).then(function(t){"ok"==t.data&&(c(),r.success({title:"Categoría Actualizada!"}),e.closeModal())})},e.deleteCategory=function(e){a.deleteCategory(e.id).then(function(e){"ok"==e.data?(c(),r.success({title:"Categoría Eliminada!"})):r.error({title:"Error",msg:"Ocurrió un error al eliminar la categoría"})})},e.btnClick=function(t,o,a,r){e.empCat=[],e.empCat.newName=r.categoria_nombre,e.empCat.id=r.id,e.openModal(t,o,a)},e.openModal=function(t,o,a){n.modal({scope:e,route:t,title:o,type:a,ignoreloadingbar:!1})};var i,l=t.$on("modal:show",function(e,t){i=t,l()});e.closeModal=function(){i.dialog.close()}}]),app.factory("FactoryEmpleos",["$http",function(e){return{createCategory:function(t){return e.get("categories/create/"+t)},getCategories:function(){return e.get("categories/all")},updateCategory:function(t,o){return e.get("categories/update/"+t+"/"+o)},deleteCategory:function(t){return e.get("categories/delete/"+t)}}}]),app.controller("promptController",["$scope","$rootScope","$http","FactoryEmpleos","toasty","IaCore",function(e,t,o,a,r,n){function c(e){console.log(e)}function i(){a.getCategories().then(function(t){e.categories=t.data})}e.updateCategory=function(e){c(e)},e.promptEnter=function(e){c(e)};var l,g=t.$on("modal:show",function(e,t){console.log("modal cargado"),l=t,console.log("Show Modal",t),g()});e.closeModal=function(){i(),l.dialog.close()}}]);