app.controller("empleosController",["$scope","$rootScope","$http","FactoryEmpleos","toasty","IaCore",function(e,o,i,t,n,c){function a(){t.getCategories().then(function(o){e.categories=o.data})}e.categories=[],e.visibleWeb=!0,e.visibleApp=!0,a(),e.promptEnter=function(o){e.updateCategory(o)},e.addJob=function(){var o=[];o.titulo=e.title,o.descripcion=e.descJob,o.email=e.email,o.phone=e.phone,o.visible_web=e.visibleWeb,o.visible_app=e.visibleApp,o.id_categoria=e.selected,t.createJob(o).then(function(o){"ok"==o.data?(n.success({title:"Creación exitosa!",msg:"Empleo creado exitosamente."}),e.title="",e.descJob="",e.email="",e.phone="",e.selected=""):n.error({title:"Error!",msg:"Ocurrió un error al crear el empleo."})})},e.appendEnter=function(){e.descJob+="<br>"},e.btnClick=function(o,i,t,n){e.empCat=[],e.empCat.newName=n.categoria_nombre,e.empCat.id=n.id,e.openModal(o,i,t)},e.openModal=function(o,i,t){c.modal({scope:e,route:o,title:i,type:t,ignoreloadingbar:!1})};var l,r=o.$on("modal:show",function(e,o){l=o,r()});e.closeModal=function(){l.dialog.close()},$(document).ready(function(){var o=$(this),i=o.next(),t=i.text();i.remove(),$("#chkWeb").iCheck({checkboxClass:"icheckbox_minimal-yellow",radioClass:"iradio_line",insert:'<div class="icheck-line-icon"></div>'+t,increaseArea:"20%"}),$("#chkWeb").on("ifChanged",function(o){1==e.visibleWeb?e.visibleWeb=!1:e.visibleWeb=!0}),$("#chkApp").iCheck({checkboxClass:"icheckbox_minimal-yellow",radioClass:"iradio_line",insert:'<div class="icheck-line-icon"></div>'+t,increaseArea:"20%"}),$("#chkApp").on("ifChanged",function(o){1==e.visibleApp?e.visibleApp=!1:e.visibleApp=!0})})}]),app.factory("FactoryEmpleos",["$http",function(e){return{getCategories:function(){return e.get("categories/all")},createJob:function(o){return e.get("new/create/"+o)}}}]),app.controller("promptController",["$scope","$rootScope","$http","FactoryEmpleos","toasty","IaCore",function(e,o,i,t,n,c){function a(e){console.log(e)}function l(){t.getCategories().then(function(o){e.categories=o.data})}e.updateCategory=function(e){a(e)},e.promptEnter=function(e){a(e)};var r,s=o.$on("modal:show",function(e,o){console.log("modal cargado"),r=o,console.log("Show Modal",o),s()});e.closeModal=function(){l(),r.dialog.close()}}]);